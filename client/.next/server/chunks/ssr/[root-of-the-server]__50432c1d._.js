module.exports=[254799,(a,b,c)=>{b.exports=a.x("crypto",()=>require("crypto"))},193695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},926046,(a,b,c)=>{b.exports=a.x("mongoose",()=>require("mongoose"))},650645,a=>{a.n(a.i(827572))},43619,a=>{a.n(a.i(379962))},13718,a=>{a.n(a.i(685523))},118198,a=>{a.n(a.i(545518))},262212,a=>{a.n(a.i(866114))},76686,a=>{"use strict";let b=(0,a.i(211857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/src/components/GeoUpdater.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/GeoUpdater.tsx <module evaluation>","default");a.s(["default",0,b])},727352,a=>{"use strict";let b=(0,a.i(211857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/src/components/GeoUpdater.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/GeoUpdater.tsx","default");a.s(["default",0,b])},612121,a=>{"use strict";a.i(76686);var b=a.i(727352);a.n(b)},440176,a=>{"use strict";let b=(0,a.i(211857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/src/components/UserDashboard.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/UserDashboard.tsx <module evaluation>","default");a.s(["default",0,b])},734994,a=>{"use strict";let b=(0,a.i(211857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/src/components/UserDashboard.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/UserDashboard.tsx","default");a.s(["default",0,b])},842813,a=>{"use strict";a.i(440176);var b=a.i(734994);a.n(b)},796877,a=>{"use strict";let b=(0,a.i(211857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/src/components/AdminDashboardClient.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/AdminDashboardClient.tsx <module evaluation>","default");a.s(["default",0,b])},453894,a=>{"use strict";let b=(0,a.i(211857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/src/components/AdminDashboardClient.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/AdminDashboardClient.tsx","default");a.s(["default",0,b])},587656,a=>{"use strict";a.i(796877);var b=a.i(453894);a.n(b)},22378,a=>{"use strict";let b=(0,a.i(211857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/src/components/DeliveryBoyDashboard.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/DeliveryBoyDashboard.tsx <module evaluation>","default");a.s(["default",0,b])},835570,a=>{"use strict";let b=(0,a.i(211857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/src/components/DeliveryBoyDashboard.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/DeliveryBoyDashboard.tsx","default");a.s(["default",0,b])},617395,a=>{"use strict";a.i(22378);var b=a.i(835570);a.n(b)},583842,a=>{"use strict";let b=(0,a.i(211857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/src/components/EditRoleMobile.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/EditRoleMobile.tsx <module evaluation>","default");a.s(["default",0,b])},456383,a=>{"use strict";let b=(0,a.i(211857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/src/components/EditRoleMobile.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/EditRoleMobile.tsx","default");a.s(["default",0,b])},531398,a=>{"use strict";a.i(583842);var b=a.i(456383);a.n(b)},160168,a=>{"use strict";var b=a.i(907997),c=a.i(577607),d=a.i(587656),e=a.i(761469),f=a.i(926046);let g=new f.default.Schema({user:{type:f.default.Schema.Types.ObjectId,ref:"User",required:!0},items:[{product:{type:f.default.Schema.Types.ObjectId,ref:"Product",required:!0},name:String,price:String,unit:String,image:String,quantity:Number}],paymentMethod:{type:String,enum:["cod","online"],default:"cod"},isPaid:{type:Boolean,default:!1},totalAmount:Number,address:{fullName:String,mobile:String,city:String,state:String,pincode:String,fullAddress:String,latitude:Number,longitude:Number},assignment:{type:f.default.Schema.Types.ObjectId,ref:"DeliveryAssignment",default:null},assignedDeliveryBoy:{type:f.default.Schema.Types.ObjectId,ref:"User"},status:{type:String,enum:["pending","confirmed","out of delivery","delivered","cancelled","refunded"],default:"pending"},cancelledAt:{type:Date},refundedAt:{type:Date},cancellationReason:{type:String},deliveryOtp:{type:String,default:null},deliveryOtpVerification:{type:Boolean,default:!1},deliveredAt:{type:Date}},{timestamps:!0}),h=f.default.models.Order||f.default.model("Order",g);var i=a.i(467758),j=a.i(262970);async function k(){await (0,e.default)();let a=await h.find({}),c=await i.default.find({role:"user"});await j.default.find({});let f=a.length,g=c.length,k=a.filter(a=>"pending"===a.status).length,l=a.reduce((a,b)=>a+(b.totalAmount||0),0),m=new Date,n=new Date(m);n.setHours(0,0,0,0);let o=new Date;o.setDate(m.getDate()-6);let p=a.filter(a=>new Date(a.createdAt)>=n).reduce((a,b)=>a+(b.totalAmount||0),0),q=a.filter(a=>new Date(a.createdAt)>=o).reduce((a,b)=>a+(b.totalAmount||0),0),r=[{title:"Total Orders",value:f},{title:"Total Customers",value:g},{title:"Pending Deliveries",value:k},{title:"Total Revenue",value:l}],s=[];for(let b=6;b>=0;b--){let c=new Date;c.setDate(c.getDate()-b),c.setHours(0,0,0,0);let d=new Date(c);d.setDate(d.getDate()+1);let e=a.filter(a=>new Date(a.createdAt)>=c&&new Date(a.createdAt)<d).length;s.push({day:c.toLocaleDateString("en-US",{weekday:"short"}),orders:e})}return(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(d.default,{earning:{today:p,sevenDays:q,total:l},stats:r,chartData:s})})}var l=a.i(617395);async function m(){await (0,e.default)();let a=await (0,c.auth)(),d=a?.user?.id,f=await h.find({assignedDeliveryBoy:d,deliveryOtpVerification:!0}),g=new Date().toDateString(),i=f.filter(a=>new Date(a.deliveredAt).toDateString()===g).length;return(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(l.default,{earning:40*i})})}var n=a.i(531398),o=a.i(495774),p=a.i(612121),q=a.i(180233),r=a.i(842813);a.i(570396);var s=a.i(673727);async function t(a){let d=await a.searchParams;await (0,e.default)();let f=await (0,c.auth)();f||(0,s.redirect)("/login"),console.log(f?.user);let g=await i.default.findById(f?.user?.id);if(g||(0,s.redirect)("/login"),!g.role||"user"===g.role&&!g.mobile)return(0,b.jsx)(n.default,{});let h=JSON.parse(JSON.stringify(g)),l=[];return"user"===g.role&&(l=d.q?JSON.parse(JSON.stringify(await j.default.find({$or:[{name:{$regex:d?.q||"",$options:"i"}},{category:{$regex:d?.q||"",$options:"i"}}]}))):JSON.parse(JSON.stringify(await j.default.find({})))),console.log("User role from DB:",g.role),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(q.default,{user:h}),(0,b.jsx)(p.default,{userId:h._id}),"user"==g.role?(0,b.jsx)(r.default,{productList:l}):"admin"==g.role?(0,b.jsx)(k,{}):"deliveryBoy"==g.role?(0,b.jsx)(m,{}):"farmer"==g.role?(0,s.redirect)("/farmer-dashboard"):"shg"==g.role?(0,s.redirect)("/shg-dashboard"):"processor"==g.role?(0,s.redirect)("/processor-dashboard"):"buyer"==g.role?(0,s.redirect)("/buyer-marketplace"):"startup"==g.role?(0,s.redirect)("/startup-dashboard"):(0,b.jsx)(r.default,{productList:l}),(0,b.jsx)(o.default,{})]})}a.s(["default",0,t],160168)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__50432c1d._.js.map