module.exports=[918622,(e,t,r)=>{t.exports=e.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},556704,(e,t,r)=>{t.exports=e.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},832319,(e,t,r)=>{t.exports=e.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},324725,(e,t,r)=>{t.exports=e.x("next/dist/server/app-render/after-task-async-storage.external.js",()=>require("next/dist/server/app-render/after-task-async-storage.external.js"))},270406,(e,t,r)=>{t.exports=e.x("next/dist/compiled/@opentelemetry/api",()=>require("next/dist/compiled/@opentelemetry/api"))},193695,(e,t,r)=>{t.exports=e.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},656713,e=>{"use strict";var t=e.i(747909),r=e.i(174017),a=e.i(996250),s=e.i(759756),n=e.i(561916),i=e.i(114444),o=e.i(837092),l=e.i(869741),p=e.i(316795),d=e.i(487718),c=e.i(995169),u=e.i(47587),h=e.i(666012),g=e.i(570101),m=e.i(626937),x=e.i(10372),f=e.i(193695);e.i(52474);var R=e.i(600220),v=e.i(89171);async function w(e){try{let{action:t,data:r}=await e.json();if(!t)return v.NextResponse.json({message:"Action is required"},{status:400});let a="";switch(t){case"improve_title":a=`Improve this millet recipe title to be more catchy and appetizing. Keep it concise (max 8 words).
                
Current title: "${r.title}"

Respond with ONLY the improved title, nothing else. No quotes, no explanation.`;break;case"improve_description":a=`Improve this millet recipe description to be more engaging and mouth-watering. Keep it under 150 characters.
                
Recipe: ${r.title}
Current description: "${r.description||"No description yet"}"

Respond with ONLY the improved description, nothing else. No quotes, no explanation.`;break;case"suggest_ingredients":a=`Suggest 5-8 ingredients for this millet recipe. Be specific with quantities.

Recipe: ${r.title}
Description: ${r.description||"A healthy millet dish"}

Respond with ONLY a valid JSON array of strings, each being an ingredient with quantity. Example format:
["1 cup ragi flour", "2 tbsp ghee", "1 tsp cumin seeds", "Salt to taste"]
No markdown, no explanation, just the JSON array.`;break;case"suggest_instructions":a=`Write step-by-step cooking instructions for this millet recipe. Be clear and concise.

Recipe: ${r.title}
Description: ${r.description||"A healthy millet dish"}
Ingredients: ${JSON.stringify(r.ingredients?.filter(e=>e.trim())||[])}

Respond with ONLY a valid JSON array of strings, each being a step. Keep steps short. Example format:
["Soak the millet for 4 hours", "Grind to a smooth batter", "Heat a pan and pour batter"]
No markdown, no explanation, just the JSON array.`;break;case"suggest_tags":a=`Suggest 3-5 relevant tags for this millet recipe.

Recipe: ${r.title}
Description: ${r.description||"A healthy millet dish"}

Respond with ONLY a valid JSON array of single-word or two-word tags. Example format:
["Breakfast", "Gluten-Free", "High-Protein", "South Indian"]
No markdown, no explanation, just the JSON array.`;break;case"full_recipe":a=`Generate a complete millet recipe based on this title: "${r.title||"Healthy Millet Dish"}"

Respond with ONLY valid JSON in this exact format, no markdown:
{
    "title": "Catchy recipe title",
    "description": "Appetizing description under 150 chars",
    "timeToCook": "30 mins",
    "difficulty": "Easy",
    "ingredients": ["1 cup millet", "2 tbsp oil", "1 tsp salt"],
    "instructions": ["Step 1 here", "Step 2 here", "Step 3 here"],
    "tags": ["Healthy", "Quick", "Dinner"]
}
No markdown code blocks, just the JSON object.`;break;default:return v.NextResponse.json({message:"Invalid action"},{status:400})}let s=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=${process.env.GEMINI_API_KEY}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:a}]}]})});if(!s.ok){let e=await s.json();return console.error("Gemini API Error:",e),v.NextResponse.json({message:"AI assistance failed",error:e?.error?.message||"API request failed"},{status:500})}let n=await s.json(),i=n.candidates?.[0]?.content?.parts?.[0]?.text?.trim()||"";if(!i)return v.NextResponse.json({message:"No response from AI"},{status:500});let o=i.replace(/```json/gi,"").replace(/```/g,"").trim();if(["suggest_ingredients","suggest_instructions","suggest_tags","full_recipe"].includes(t))try{let e=JSON.parse(o);return v.NextResponse.json({result:e},{status:200})}catch(t){let e=o.match(/\[[\s\S]*\]|\{[\s\S]*\}/);if(e)try{let t=JSON.parse(e[0]);return v.NextResponse.json({result:t},{status:200})}catch(e){}}return v.NextResponse.json({result:o},{status:200})}catch(e){return console.error("AI Recipe Assistant error:",e?.message||e),v.NextResponse.json({message:"AI assistance failed",error:e?.message||"Unknown error"},{status:500})}}e.s(["POST",()=>w],98416);var y=e.i(98416);let N=new t.AppRouteRouteModule({definition:{kind:r.RouteKind.APP_ROUTE,page:"/api/ai/recipe-assist/route",pathname:"/api/ai/recipe-assist",filename:"route",bundlePath:""},distDir:".next",relativeProjectDir:"",resolvedPagePath:"[project]/src/app/api/ai/recipe-assist/route.ts",nextConfigOutput:"",userland:y}),{workAsyncStorage:E,workUnitAsyncStorage:b,serverHooks:S}=N;function A(){return(0,a.patchFetch)({workAsyncStorage:E,workUnitAsyncStorage:b})}async function k(e,t,a){N.isDev&&(0,s.addRequestMeta)(e,"devRequestTimingInternalsEnd",process.hrtime.bigint());let v="/api/ai/recipe-assist/route";v=v.replace(/\/index$/,"")||"/";let w=await N.prepare(e,t,{srcPage:v,multiZoneDraftMode:!1});if(!w)return t.statusCode=400,t.end("Bad Request"),null==a.waitUntil||a.waitUntil.call(a,Promise.resolve()),null;let{buildId:y,params:E,nextConfig:b,parsedUrl:S,isDraftMode:A,prerenderManifest:k,routerServerContext:C,isOnDemandRevalidate:O,revalidateOnlyGenerated:j,resolvedPathname:_,clientReferenceManifest:I,serverActionsManifest:P}=w,T=(0,l.normalizeAppPath)(v),q=!!(k.dynamicRoutes[T]||k.routes[_]),H=async()=>((null==C?void 0:C.render404)?await C.render404(e,t,S,!1):t.end("This page could not be found"),null);if(q&&!A){let e=!!k.routes[_],t=k.dynamicRoutes[T];if(t&&!1===t.fallback&&!e){if(b.experimental.adapterPath)return await H();throw new f.NoFallbackError}}let $=null;!q||N.isDev||A||($="/index"===($=_)?"/":$);let D=!0===N.isDev||!q,M=q&&!D;P&&I&&(0,i.setReferenceManifestsSingleton)({page:v,clientReferenceManifest:I,serverActionsManifest:P,serverModuleMap:(0,o.createServerModuleMap)({serverActionsManifest:P})});let U=e.method||"GET",J=(0,n.getTracer)(),K=J.getActiveScopeSpan(),L={params:E,prerenderManifest:k,renderOpts:{experimental:{authInterrupts:!!b.experimental.authInterrupts},cacheComponents:!!b.cacheComponents,supportsDynamicResponse:D,incrementalCache:(0,s.getRequestMeta)(e,"incrementalCache"),cacheLifeProfiles:b.cacheLife,waitUntil:a.waitUntil,onClose:e=>{t.on("close",e)},onAfterTaskError:void 0,onInstrumentationRequestError:(t,r,a)=>N.onRequestError(e,t,a,C)},sharedContext:{buildId:y}},F=new p.NodeNextRequest(e),B=new p.NodeNextResponse(t),G=d.NextRequestAdapter.fromNodeNextRequest(F,(0,d.signalFromNodeResponse)(t));try{let i=async e=>N.handle(G,L).finally(()=>{if(!e)return;e.setAttributes({"http.status_code":t.statusCode,"next.rsc":!1});let r=J.getRootSpanAttributes();if(!r)return;if(r.get("next.span_type")!==c.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${r.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let a=r.get("next.route");if(a){let t=`${U} ${a}`;e.setAttributes({"next.route":a,"http.route":a,"next.span_name":t}),e.updateName(t)}else e.updateName(`${U} ${v}`)}),o=!!(0,s.getRequestMeta)(e,"minimalMode"),l=async s=>{var n,l;let p=async({previousCacheEntry:r})=>{try{if(!o&&O&&j&&!r)return t.statusCode=404,t.setHeader("x-nextjs-cache","REVALIDATED"),t.end("This page could not be found"),null;let n=await i(s);e.fetchMetrics=L.renderOpts.fetchMetrics;let l=L.renderOpts.pendingWaitUntil;l&&a.waitUntil&&(a.waitUntil(l),l=void 0);let p=L.renderOpts.collectedTags;if(!q)return await (0,h.sendResponse)(F,B,n,L.renderOpts.pendingWaitUntil),null;{let e=await n.blob(),t=(0,g.toNodeOutgoingHttpHeaders)(n.headers);p&&(t[x.NEXT_CACHE_TAGS_HEADER]=p),!t["content-type"]&&e.type&&(t["content-type"]=e.type);let r=void 0!==L.renderOpts.collectedRevalidate&&!(L.renderOpts.collectedRevalidate>=x.INFINITE_CACHE)&&L.renderOpts.collectedRevalidate,a=void 0===L.renderOpts.collectedExpire||L.renderOpts.collectedExpire>=x.INFINITE_CACHE?void 0:L.renderOpts.collectedExpire;return{value:{kind:R.CachedRouteKind.APP_ROUTE,status:n.status,body:Buffer.from(await e.arrayBuffer()),headers:t},cacheControl:{revalidate:r,expire:a}}}}catch(t){throw(null==r?void 0:r.isStale)&&await N.onRequestError(e,t,{routerKind:"App Router",routePath:v,routeType:"route",revalidateReason:(0,u.getRevalidateReason)({isStaticGeneration:M,isOnDemandRevalidate:O})},C),t}},d=await N.handleResponse({req:e,nextConfig:b,cacheKey:$,routeKind:r.RouteKind.APP_ROUTE,isFallback:!1,prerenderManifest:k,isRoutePPREnabled:!1,isOnDemandRevalidate:O,revalidateOnlyGenerated:j,responseGenerator:p,waitUntil:a.waitUntil,isMinimalMode:o});if(!q)return null;if((null==d||null==(n=d.value)?void 0:n.kind)!==R.CachedRouteKind.APP_ROUTE)throw Object.defineProperty(Error(`Invariant: app-route received invalid cache entry ${null==d||null==(l=d.value)?void 0:l.kind}`),"__NEXT_ERROR_CODE",{value:"E701",enumerable:!1,configurable:!0});o||t.setHeader("x-nextjs-cache",O?"REVALIDATED":d.isMiss?"MISS":d.isStale?"STALE":"HIT"),A&&t.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate");let c=(0,g.fromNodeOutgoingHttpHeaders)(d.value.headers);return o&&q||c.delete(x.NEXT_CACHE_TAGS_HEADER),!d.cacheControl||t.getHeader("Cache-Control")||c.get("Cache-Control")||c.set("Cache-Control",(0,m.getCacheControlHeader)(d.cacheControl)),await (0,h.sendResponse)(F,B,new Response(d.value.body,{headers:c,status:d.value.status||200})),null};K?await l(K):await J.withPropagatedContext(e.headers,()=>J.trace(c.BaseServerSpan.handleRequest,{spanName:`${U} ${v}`,kind:n.SpanKind.SERVER,attributes:{"http.method":U,"http.target":e.url}},l))}catch(t){if(t instanceof f.NoFallbackError||await N.onRequestError(e,t,{routerKind:"App Router",routePath:T,routeType:"route",revalidateReason:(0,u.getRevalidateReason)({isStaticGeneration:M,isOnDemandRevalidate:O})}),q)throw t;return await (0,h.sendResponse)(F,B,new Response(null,{status:500})),null}}e.s(["handler",()=>k,"patchFetch",()=>A,"routeModule",()=>N,"serverHooks",()=>S,"workAsyncStorage",()=>E,"workUnitAsyncStorage",()=>b],656713)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__e46d9850._.js.map