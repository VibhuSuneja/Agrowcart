{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/grocery%20delivery/1.snapcartFolder/1.snapcartFolder/1.snapcart/src/app/admin/add-product/page.tsx"],"sourcesContent":["'use client'\r\nimport { ArrowLeft, Loader, Plus, PlusCircle, Upload } from 'lucide-react'\r\nimport Link from 'next/link'\r\nimport React, { ChangeEvent, FormEvent, useState } from 'react'\r\nimport { motion } from \"motion/react\"\r\nimport Image from 'next/image'\r\nimport axios from 'axios'\r\nconst categories = [\r\n    \"Raw Millets\",\r\n    \"Millet Rice\",\r\n    \"Millet Flour\",\r\n    \"Millet Snacks\",\r\n    \"Value-Added Products\",\r\n    \"Seeds\",\r\n    \"Other\"\r\n]\r\n\r\nconst units = [\r\n    \"kg\", \"g\", \"liter\", \"ml\", \"piece\", \"pack\", \"quintal\"\r\n]\r\nfunction AddProduct() {\r\n    const [name, setName] = useState(\"\")\r\n    const [category, setCategory] = useState(\"\")\r\n    const [unit, setUnit] = useState(\"\")\r\n    const [price, setPrice] = useState(\"\")\r\n    const [loading, setLoading] = useState(false)\r\n    const [preview, setPreview] = useState<string | null>()\r\n    const [backendImage, setBackendImage] = useState<File | null>()\r\n    const handleImageChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n        const files = e.target.files\r\n        if (!files || files.length == 0) return\r\n        const file = files[0]\r\n        setBackendImage(file)\r\n        setPreview(URL.createObjectURL(file))\r\n    }\r\n\r\n    const handleSubmit = async (e: FormEvent) => {\r\n        e.preventDefault()\r\n        setLoading(true)\r\n        try {\r\n            const formData = new FormData()\r\n            formData.append(\"name\", name)\r\n            formData.append(\"category\", category)\r\n            formData.append(\"price\", price)\r\n            formData.append(\"unit\", unit)\r\n            if (backendImage) {\r\n                formData.append(\"image\", backendImage)\r\n            }\r\n\r\n\r\n            const result = await axios.post(\"/api/admin/add-product\", formData)\r\n            console.log(result.data)\r\n            setLoading(false)\r\n        } catch (error) {\r\n            console.log(error)\r\n            setLoading(false)\r\n        }\r\n    }\r\n    return (\r\n        <div className='min-h-screen flex items-center justify-center bg-linear-to-br from-green-50 to-white py-16 px-4 relative'>\r\n            <Link href={\"/\"} className='absolute top-6 left-6 flex items-center gap-2 text-green-700 font-semibold bg-white px-4 py-2 rounded-full shadow-md hover:bg-green-100 hover:shadow-lg transition-all'>\r\n                <ArrowLeft className='w-5 h-5' />\r\n                <span className='hidden md:flex'>Back to home</span>\r\n            </Link>\r\n            <motion.div\r\n                initial={{ y: 20, opacity: 0 }}\r\n                animate={{ y: 0, opacity: 1 }}\r\n                transition={{ duration: 0.4 }}\r\n                className='bg-white w-full max-w-2xl shadow-2xl rounded-3xl border border-green-100 p-8'\r\n            >\r\n                <div className='flex flex-col items-center mb-8'>\r\n                    <div className='flex items-center gap-3'>\r\n                        <PlusCircle className='text-green-600 w-8 h-8' />\r\n                        <h1>Add New Product</h1>\r\n                    </div>\r\n                    <p className='text-gray-500 text-sm mt-2 text-center'>Fill out the details below to add a new millet product.\r\n                    </p>\r\n                </div>\r\n                <form className='flex flex-col gap-6 w-full ' onSubmit={handleSubmit}>\r\n                    <div>\r\n                        <label htmlFor=\"name\" className='block text-gray-700 font-medium mb-1'> Product Name <span className='text-red-500'>*</span></label>\r\n                        <input type=\"text\" id='name' placeholder='eg: Foxtail Millet, Ragi Biscuits ...'\r\n                            onChange={(e) => setName(e.target.value)}\r\n                            value={name}\r\n                            className='w-full border border-gray-300 rounded-xl px-4 py-3 outline-none focus:ring-2 focus:ring-green-400 transition-all' />\r\n                    </div>\r\n                    <div className='grid grid-cols-1 sm:grid-cols-2 gap-3'>\r\n                        <div >\r\n                            <label className='block text-gray-700 font-medium mb-1'>Category<span className='text-red-500'>*</span></label>\r\n                            <select name=\"category\" value={category} className='w-full border border-gray-300 rounded-xl px-4 py-3 outline-none focus:ring-2 focus:ring-green-400 transition-all bg-white' onChange={(e) => setCategory(e.target.value)}>\r\n                                <option value=\"\">Select Category</option>\r\n                                {categories.map((cat, i) => (\r\n                                    <option key={i} value={cat}>{cat}</option>\r\n                                ))}\r\n                            </select>\r\n                        </div>\r\n                        <div>\r\n                            <label className='block text-gray-700 font-medium mb-1'>Unit<span className='text-red-500'>*</span></label>\r\n                            <select name=\"unit\" className='w-full border border-gray-300 rounded-xl px-4 py-3 outline-none focus:ring-2 focus:ring-green-400 transition-all bg-white'\r\n                                onChange={(e) => setUnit(e.target.value)}\r\n                                value={unit}\r\n                            >\r\n                                <option value=\"\">Select Unit</option>\r\n                                {units.map(cat => (\r\n                                    <option value={cat}>{cat}</option>\r\n                                ))}\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                    <div>\r\n                        <label htmlFor=\"name\" className='block text-gray-700 font-medium mb-1'> Price <span className='text-red-500'>*</span></label>\r\n                        <input type=\"text\" id='name' placeholder='eg. 120' className='w-full border border-gray-300 rounded-xl px-4 py-3 outline-none focus:ring-2 focus:ring-green-400 transition-all'\r\n                            onChange={(e) => setPrice(e.target.value)}\r\n                            value={price}\r\n                        />\r\n                    </div>\r\n                    <div className='flex flex-col sm:flex-row items-center gap-5'>\r\n                        <label htmlFor=\"image\" className='cursor-pointer flex items-center justify-center gap-2 bg-green-50 text-green-700 font-semibold border border-green-200 rounded-xl px-6 py-3 hover:bg-green-100 transition-all w-full sm:w-auto'>\r\n                            <Upload className='w-5 h-5' />   Upload image </label>\r\n\r\n                        <input type=\"file\" id='image' accept='image/*' hidden\r\n                            onChange={handleImageChange}\r\n\r\n                        />\r\n                        {preview && <Image src={preview} width={100} height={100} alt='image' className='rounded-xl shadow-md border border-gray-200 object-cover' />}\r\n                    </div>\r\n\r\n                    <motion.button\r\n                        whileHover={{ scale: 1.02 }}\r\n                        whileTap={{ scale: 0.9 }}\r\n                        disabled={loading}\r\n                        className='mt-4 w-full bg-linear-to-r from-green-500 to-green-700 text-white font-semibold py-3 rounded-xl shadow-lg hover:shadow-xl disabled:opacity-60 transition-all flex items-center justify-center gap-2'\r\n                    >\r\n                        {loading ? <Loader className='w-5 h-5 animate-spin' /> : \"Add Product\"}\r\n\r\n                    </motion.button>\r\n                </form>\r\n\r\n            </motion.div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AddProduct\r\n"],"names":[],"mappings":"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"}}]
}