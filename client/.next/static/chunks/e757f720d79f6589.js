(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,871689,e=>{"use strict";let t=(0,e.i(475254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],871689)},343432,e=>{"use strict";let t=(0,e.i(475254).default)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]);e.s(["Phone",()=>t],343432)},346897,e=>{"use strict";let t=(0,e.i(475254).default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);e.s(["MapPin",()=>t],346897)},581418,e=>{"use strict";let t=(0,e.i(475254).default)("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["ShieldCheck",()=>t],581418)},87316,e=>{"use strict";let t=(0,e.i(475254).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["Calendar",()=>t],87316)},227516,e=>{"use strict";let t=(0,e.i(475254).default)("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);e.s(["History",()=>t],227516)},421849,e=>{"use strict";let t=(0,e.i(475254).default)("indian-rupee",[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]]);e.s(["IndianRupee",()=>t],421849)},689849,e=>{"use strict";let t=(0,e.i(475254).default)("navigation-2",[["polygon",{points:"12 2 19 21 12 17 5 21 12 2",key:"x8c0qg"}]]);e.s(["Navigation2",()=>t],689849)},715788,e=>{"use strict";let t=(0,e.i(475254).default)("truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);e.s(["Truck",()=>t],715788)},561659,247978,e=>{"use strict";let t=(0,e.i(475254).default)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);e.s(["default",()=>t],247978),e.s(["CreditCard",()=>t],561659)},655900,e=>{"use strict";let t=(0,e.i(475254).default)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);e.s(["ChevronUp",()=>t],655900)},179756,e=>{"use strict";var t=e.i(843476),s=e.i(581949),i=e.i(871689);let r=(0,e.i(475254).default)("package-search",[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["circle",{cx:"18.5",cy:"15.5",r:"2.5",key:"b5zd12"}],["path",{d:"M20.27 17.27 22 19",key:"1l4muz"}]]);var a=e.i(227516),n=e.i(618566),c=e.i(846932),l=e.i(88653),d=e.i(271645),o=e.i(664659),x=e.i(655900),h=e.i(561659),m=e.i(346897),p=e.i(488844),u=e.i(715788),g=e.i(87316),f=e.i(421849),y=e.i(581418),b=e.i(343432),j=e.i(689849),v=e.i(283086),k=e.i(657688),w=e.i(13751);let N=function({order:e}){let[s,i]=(0,d.useState)(!1),[r,a]=(0,d.useState)(e.status||"pending"),l=(0,n.useRouter)();return(0,d.useEffect)(()=>{let t=(0,w.getSocket)();return t.on("order-status-update",t=>{t.orderId.toString()===e?._id?.toString()&&a(t.status)}),()=>{t.off("order-status-update")}},[e?._id]),(0,t.jsxs)(c.motion.div,{layout:!0,className:"bg-white rounded-[2.5rem] border border-zinc-100 shadow-2xl shadow-green-900/5 group overflow-hidden transition-all",children:[(0,t.jsxs)("div",{className:"p-8 md:p-10 flex flex-col md:flex-row justify-between items-start md:items-center gap-6 border-b border-zinc-50",children:[(0,t.jsxs)("div",{className:"flex items-center gap-6",children:[(0,t.jsx)("div",{className:`w-16 h-16 rounded-[1.5rem] flex items-center justify-center transition-colors ${"delivered"===r?"bg-green-600 text-white":"bg-zinc-900 text-white"}`,children:(0,t.jsx)(p.Package,{size:32})}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("h3",{className:"text-3xl font-black text-zinc-900 tracking-tighter",children:["Batch ",(0,t.jsxs)("span",{className:"text-zinc-400",children:["#",e?._id?.toString()?.slice(-6)]})]}),"delivered"===r&&(0,t.jsx)("div",{className:"bg-green-50 p-1 rounded-full text-green-600",children:(0,t.jsx)(y.ShieldCheck,{size:20})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-zinc-400 font-bold text-xs uppercase tracking-widest",children:[(0,t.jsx)(g.Calendar,{size:12}),(0,t.jsx)("span",{children:new Date(e.createdAt).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})})]})]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,t.jsx)("div",{className:`px-4 py-2 rounded-2xl text-[10px] font-black uppercase tracking-widest border-2 ${(e=>{switch(e){case"pending":return"bg-amber-50 text-amber-600 border-amber-100";case"out of delivery":return"bg-blue-50 text-blue-600 border-blue-100";case"delivered":return"bg-green-50 text-green-600 border-green-100";default:return"bg-zinc-50 text-zinc-600 border-zinc-100"}})(r)}`,children:r}),e.isPaid&&(0,t.jsx)("div",{className:"bg-green-600 text-white px-4 py-2 rounded-2xl text-[10px] font-black uppercase tracking-widest",children:"Paid"})]})]}),(0,t.jsxs)("div",{className:"p-8 md:p-10 grid grid-cols-1 lg:grid-cols-2 gap-10 items-start",children:[(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"text-[10px] font-black uppercase text-zinc-400 tracking-[0.2em] ml-1",children:"Fulfillment Details"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,t.jsxs)("div",{className:"flex items-start gap-4 p-5 bg-zinc-50 rounded-[1.5rem] border border-zinc-100",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-white rounded-xl flex items-center justify-center text-green-600 shadow-sm",children:(0,t.jsx)(m.MapPin,{size:20})}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("div",{className:"text-[10px] font-black text-zinc-400 uppercase tracking-widest",children:"Drop Location"}),(0,t.jsx)("p",{className:"text-sm font-bold text-zinc-700 leading-snug",children:e.address.fullAddress})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-4 p-5 bg-zinc-50 rounded-[1.5rem] border border-zinc-100",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-white rounded-xl flex items-center justify-center text-zinc-900 shadow-sm",children:"online"===e.paymentMethod?(0,t.jsx)(h.CreditCard,{size:20}):(0,t.jsx)(f.IndianRupee,{size:20})}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("div",{className:"text-[10px] font-black text-zinc-400 uppercase tracking-widest",children:"Payment Method"}),(0,t.jsx)("p",{className:"text-sm font-black text-zinc-900 uppercase tracking-wider",children:"online"===e.paymentMethod?"Secured Online":"Cash on Delivery"})]})]})]})]}),"delivered"!==r&&(0,t.jsxs)(c.motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"p-6 bg-zinc-900 rounded-[2rem] text-white shadow-2xl shadow-zinc-900/20 relative overflow-hidden group",children:[(0,t.jsx)("div",{className:"absolute top-0 right-0 w-32 h-32 bg-green-500/10 rounded-full blur-2xl -mr-16 -mt-16"}),(0,t.jsx)("div",{className:"relative",children:e.assignedDeliveryBoy?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-white/10 rounded-2xl flex items-center justify-center text-green-400",children:(0,t.jsx)(j.Navigation2,{size:24})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-[10px] font-black uppercase text-zinc-500 tracking-widest leading-none",children:"On Route with"}),(0,t.jsx)("div",{className:"text-xl font-black tracking-tight mt-1",children:e.assignedDeliveryBoy.name})]})]}),e.deliveryOtp&&(0,t.jsxs)("div",{className:"p-4 bg-white/10 rounded-xl mb-6 border border-white/10 text-center",children:[(0,t.jsx)("div",{className:"text-[10px] uppercase tracking-widest text-zinc-400 font-bold mb-1",children:"Your Delivery OTP"}),(0,t.jsx)("div",{className:"text-4xl font-black text-green-400 tracking-[0.2em]",children:e.deliveryOtp}),(0,t.jsx)("div",{className:"text-[10px] text-zinc-500 mt-1",children:"Share this code with the partner upon arrival."})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("a",{href:`tel:${e.assignedDeliveryBoy.mobile}`,className:"flex-1 bg-white text-zinc-900 py-4 rounded-xl font-black uppercase tracking-widest text-[10px] flex items-center justify-center gap-2 hover:bg-green-600 hover:text-white transition-all",children:[(0,t.jsx)(b.Phone,{size:14}),"Call Partner"]}),(0,t.jsxs)("button",{onClick:()=>l.push(`/user/track-order/${e._id}`),className:"flex-1 bg-green-600 text-white py-4 rounded-xl font-black uppercase tracking-widest text-[10px] flex items-center justify-center gap-2 hover:bg-green-500 shadow-xl shadow-green-600/20 transition-all",children:[(0,t.jsx)(u.Truck,{size:14}),"Live Track"]})]})]}):(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-6 text-center space-y-4",children:[(0,t.jsx)("div",{className:"w-16 h-16 border-4 border-green-500/30 border-t-green-500 rounded-full animate-spin"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-bold text-lg mb-1",children:"Assigning Partner"}),(0,t.jsx)("p",{className:"text-zinc-500 text-xs max-w-[200px] mx-auto",children:"We're finding the best delivery partner for your batch..."})]})]})})]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between px-1",children:[(0,t.jsx)("div",{className:"text-[10px] font-black uppercase text-zinc-400 tracking-[0.2em]",children:"Batch Contents"}),(0,t.jsxs)("div",{className:"text-sm font-black text-zinc-900 tracking-tighter",children:["Total: ₹",e.totalAmount]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[Array.isArray(e?.items)&&e.items.slice(0,s?e.items.length:2).map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-white border border-zinc-100 rounded-2xl shadow-sm hover:border-green-200 transition-colors",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-zinc-50 rounded-xl relative overflow-hidden border border-zinc-100",children:(0,t.jsx)(k.default,{src:e.image,alt:e.name,fill:!0,className:"object-contain p-2"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-black text-zinc-900 text-sm leading-tight",children:e.name}),(0,t.jsxs)("p",{className:"text-[10px] font-bold text-zinc-400 uppercase tracking-widest",children:[e.quantity," x ",e.unit]})]})]}),(0,t.jsx)("div",{className:"text-right",children:(0,t.jsxs)("div",{className:"text-sm font-black text-zinc-900 tracking-tight",children:["₹",Number(e.price)*e.quantity]})})]},s)),e.items.length>2&&(0,t.jsxs)("button",{onClick:()=>i(!s),className:"w-full py-4 text-xs font-black uppercase tracking-widest text-zinc-400 hover:text-green-600 transition-colors flex items-center justify-center gap-2 bg-zinc-50/50 rounded-2xl",children:[s?(0,t.jsx)(x.ChevronUp,{size:16}):(0,t.jsx)(o.ChevronDown,{size:16}),s?"Show Less":`Show ${e.items.length-2} More Items`]})]}),"delivered"===r&&(0,t.jsxs)("div",{className:"p-6 bg-green-50 border border-green-100 rounded-[2rem] flex items-center gap-6",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-white rounded-2xl flex items-center justify-center text-green-600 shadow-sm border border-green-100",children:(0,t.jsx)(v.Sparkles,{size:24})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-black text-green-700 tracking-tight",children:"Order Fulfilled"}),(0,t.jsx)("p",{className:"text-xs text-green-600/70 font-medium",children:"Thank you for supporting sustainable agriculture."})]})]})]})]})]})};var z=e.i(984834),M=e.i(155487);e.s(["default",0,function(){let e=(0,n.useRouter)(),{userData:o}=(0,M.useSelector)(e=>e.user),[x,h]=(0,d.useState)(),[m,p]=(0,d.useState)(!0);return((0,d.useEffect)(()=>{(async()=>{try{let e=await s.default.get("/api/user/my-orders");h(e.data)}catch(e){console.error(e)}finally{p(!1)}})()},[]),(0,d.useEffect)(()=>{let e=(0,w.getSocket)();return e.on("order-assigned",({orderId:e,assignedDeliveryBoy:t})=>{h(s=>s?.map(s=>s._id===e?{...s,assignedDeliveryBoy:t}:s))}),()=>{e.off("order-assigned")}},[]),m)?(0,t.jsx)("div",{className:"min-h-screen bg-zinc-50 flex items-center justify-center",children:(0,t.jsx)("div",{className:"w-12 h-12 border-4 border-green-600 border-t-transparent rounded-full animate-spin"})}):(0,t.jsxs)("div",{className:"min-h-screen bg-zinc-50 selection:bg-green-100 selection:text-green-900",children:[(0,t.jsx)(z.default,{user:o}),(0,t.jsxs)("div",{className:"max-w-4xl mx-auto px-6 py-32",children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-end justify-between mb-16 gap-8",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)(c.motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"flex items-center gap-2 text-green-600 font-black uppercase tracking-[0.3em] text-[10px] bg-green-50 w-fit px-3 py-1 rounded-lg border border-green-100",children:[(0,t.jsx)(a.History,{size:14}),(0,t.jsx)("span",{children:"Procurement History"})]}),(0,t.jsxs)(c.motion.h1,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"text-5xl md:text-6xl font-black text-zinc-900 tracking-tighter leading-none",children:["My ",(0,t.jsx)("span",{className:"text-zinc-400",children:"Orders."})]}),(0,t.jsx)("p",{className:"text-zinc-500 max-w-lg font-medium text-lg",children:"Track your millet batches from the farm to your doorstep in real-time."})]}),(0,t.jsxs)(c.motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e.push("/"),className:"bg-white p-4 rounded-3xl shadow-xl shadow-green-900/5 border border-zinc-100 flex items-center gap-4 group transition-all hover:border-green-200",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-green-50 rounded-2xl flex items-center justify-center text-green-600 group-hover:bg-green-600 group-hover:text-white transition-colors",children:(0,t.jsx)(i.ArrowLeft,{size:20})}),(0,t.jsxs)("div",{className:"text-left pr-4",children:[(0,t.jsx)("div",{className:"text-[10px] font-black uppercase text-zinc-400",children:"Continue"}),(0,t.jsx)("div",{className:"text-sm font-black text-zinc-900",children:"Shopping"})]})]})]}),x?.length===0?(0,t.jsxs)(c.motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"py-32 flex flex-col items-center text-center bg-white rounded-[3.5rem] border-2 border-dashed border-zinc-200",children:[(0,t.jsx)("div",{className:"w-24 h-24 bg-zinc-50 rounded-full flex items-center justify-center mb-8 shadow-inner",children:(0,t.jsx)(r,{size:48,className:"text-zinc-200"})}),(0,t.jsx)("h2",{className:"text-3xl font-black text-zinc-800 mb-2 tracking-tight",children:"No Batches Found"}),(0,t.jsx)("p",{className:"text-zinc-400 font-medium max-w-xs mx-auto",children:"You haven't secured any millet harvests yet. Explore the marketplace to start your journey."}),(0,t.jsx)("button",{onClick:()=>e.push("/"),className:"mt-10 bg-zinc-900 text-white px-10 py-5 rounded-[1.5rem] font-black uppercase tracking-widest text-sm shadow-2xl shadow-zinc-900/20 hover:bg-green-600 transition-all",children:"Start Exploring"})]}):(0,t.jsx)("div",{className:"space-y-8",children:(0,t.jsx)(l.AnimatePresence,{children:x?.map((e,s)=>(0,t.jsx)(c.motion.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.1*s},children:(0,t.jsx)(N,{order:e})},e._id))})})]})]})}],179756)}]);