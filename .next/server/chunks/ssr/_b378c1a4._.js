module.exports=[124987,a=>{"use strict";let b=(0,a.i(170106).default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);a.s(["MapPin",()=>b],124987)},192434,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"warnOnce",{enumerable:!0,get:function(){return d}});let d=a=>{}},808591,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"useMergedRef",{enumerable:!0,get:function(){return e}});let d=a.r(572131);function e(a,b){let c=(0,d.useRef)(null),e=(0,d.useRef)(null);return(0,d.useCallback)(d=>{if(null===d){let a=c.current;a&&(c.current=null,a());let b=e.current;b&&(e.current=null,b())}else a&&(c.current=f(a,d)),b&&(e.current=f(b,d))},[a,b])}function f(a,b){if("function"!=typeof a)return a.current=b,()=>{a.current=null};{let c=a(b);return"function"==typeof c?c:()=>a(null)}}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},883497,a=>{"use strict";let b=(0,a.i(170106).default)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);a.s(["Package",()=>b],883497)},587532,a=>{"use strict";let b=(0,a.i(170106).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);a.s(["Search",()=>b],587532)},400210,a=>{"use strict";let b=(0,a.i(170106).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],400210)},773320,a=>{"use strict";let b=(0,a.i(170106).default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);a.s(["Upload",()=>b],773320)},699464,a=>{"use strict";let b=(0,a.i(170106).default)("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);a.s(["Pencil",()=>b],699464)},330046,a=>{"use strict";var b=a.i(187924),c=a.i(83490),d=a.i(572131),e=a.i(262036),f=a.i(346271),g=a.i(400210),h=a.i(228193),i=a.i(883497),j=a.i(699464),k=a.i(587532),l=a.i(773320),m=a.i(633508),n=a.i(124987),o=a.i(50944),p=a.i(571987),q=a.i(406704);let r=["Raw Millets","Millet Rice","Millet Flour","Millet Snacks","Value-Added","Seeds","Organic Mix"],s=["kg","g","liter","ml","piece","pack","quintal"];a.s(["default",0,function(){let a=(0,o.useRouter)(),[t,u]=(0,d.useState)(),[v,w]=(0,d.useState)(""),[x,y]=(0,d.useState)(null),[z,A]=(0,d.useState)(null),[B,C]=(0,d.useState)(null),[D,E]=(0,d.useState)(!1),[F,G]=(0,d.useState)(!1),[H,I]=(0,d.useState)();(0,d.useEffect)(()=>{(async()=>{try{let a=await c.default.get(`/api/admin/get-products?t=${Date.now()}`);u(a.data),I(a.data)}catch(a){console.log(a)}})()},[]),(0,d.useEffect)(()=>{x&&A(x.image)},[x]);let J=async()=>{if(E(!0),x)try{let a=new FormData;a.append("productId",x?._id?.toString()),a.append("name",x?.name),a.append("category",x.category),a.append("price",x.price),a.append("unit",x.unit),a.append("scientificBenefits",x.scientificBenefits||""),a.append("fssaiLicense",x.fssaiLicense||""),a.append("isCompliant",x.isCompliant?"true":"false"),a.append("originState",x.originState||"Haryana"),a.append("originCity",x.originCity||""),await c.default.post("/api/admin/edit-product",a),E(!1),q.default.success("Product batch updated!"),setTimeout(()=>window.location.reload(),800)}catch(a){console.log(a)}},K=async()=>{if(G(!0),x)try{await c.default.post("/api/admin/delete-product",{productId:x._id}),G(!1),window.location.reload()}catch(a){console.log(a)}};return(0,b.jsxs)("div",{className:"pt-4 w-[95%] md:w-[85%] mx-auto pb-20",children:[(0,b.jsxs)(f.motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.4},className:"flex flex-col sm:flex-row items-center justify-between gap-4 mb-8 text-center sm:text-left",children:[(0,b.jsxs)("button",{onClick:()=>a.push("/"),className:"flex items-center justify-center gap-2 bg-green-100 hover:bg-green-200 text-green-700 font-semibold px-4 py-2 rounded-full transition w-full sm:w-auto",children:[(0,b.jsx)(g.ArrowLeft,{size:18}),(0,b.jsx)("span",{children:"Back"})]}),(0,b.jsxs)("h1",{className:"text-2xl md:text-3xl font-extrabold text-green-700 flex items-center justify-center gap-2",children:[(0,b.jsx)(i.Package,{size:28,className:"text-green-600"}),"Manage Products"]})]}),(0,b.jsxs)(f.motion.form,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4},onSubmit:a=>{a.preventDefault();let b=v.toLowerCase();I(t?.filter(a=>a.name.toLowerCase().includes(b)||a.category.toLowerCase().includes(b)))},className:"flex items-center bg-white border border-gray-200 rounded-full px-5 py-3 shadow-sm mb-10 hover:shadow-lg transition-all max-w-lg mx-auto w-full",children:[(0,b.jsx)(k.Search,{className:"text-gray-500 w-5 h-5 mr-2"}),(0,b.jsx)("input",{type:"text",className:"w-full outline-none text-gray-700 placeholder-gray-400",placeholder:"Search by name or category...",value:v,onChange:a=>w(a.target.value)})]}),(0,b.jsx)("div",{className:"space-y-4",children:H?.map((a,c)=>(0,b.jsxs)(f.motion.div,{whileHover:{scale:1.01},transition:{type:"spring",stiffness:100},className:"bg-white rounded-2xl shadow-md hover:shadow-xl border border-gray-100 flex flex-col sm:flex-row items-center sm:items-start gap-5 p-5 transition-all",children:[(0,b.jsx)("div",{className:"relative w-full sm:w-44 aspect-square rounded-xl overflow-hidden border border-gray-200",children:(0,b.jsx)(p.default,{src:a.image,alt:a.name,fill:!0,className:"object-cover hover:scale-110 transition-transform duration-500"})}),(0,b.jsxs)("div",{className:"flex-1 flex flex-col justify-between w-full",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h3",{className:"font-semibold text-gray-800 text-lg truncate flex items-center gap-2",children:[a.name,a.isCompliant&&(0,b.jsx)("span",{className:"text-[10px] bg-green-100 text-green-700 font-black px-2 py-0.5 rounded-full uppercase tracking-tighter",children:"Verified"})]}),(0,b.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,b.jsx)("p",{className:"text-zinc-500 text-xs font-bold capitalize",children:a.category}),(0,b.jsxs)("p",{className:"text-zinc-400 text-[11px] font-bold uppercase tracking-wider flex items-center gap-1.5",children:[(0,b.jsx)(n.MapPin,{size:12,className:"text-zinc-300"}),a.originCity?`${a.originCity}, `:"",a.originState||"Haryana"]})]})]}),(0,b.jsxs)("div",{className:"mt-3 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[(0,b.jsxs)("p",{className:"text-green-700 font-bold text-lg",children:["â‚¹",a.price,"/ ",(0,b.jsx)("span",{className:"text-gray-500 text-sm font-medium ml-1",children:a.unit})]}),(0,b.jsxs)("button",{className:"bg-green-600 text-white px-4 py-2 rounded-lg text-sm font-semibold flex items-center justify-center gap-2 hover:bg-green-700 transition-all",onClick:()=>y(a),children:[(0,b.jsx)(j.Pencil,{size:15})," Edit"]})]})]})]},c))}),(0,b.jsx)(e.AnimatePresence,{children:x&&(0,b.jsx)(f.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 backdrop-blur-sm px-4",children:(0,b.jsxs)(f.motion.div,{initial:{y:40,opacity:0},animate:{y:0,opacity:1},exit:{y:40,opacity:0},transition:{duration:.3},className:"bg-white rounded-2xl shadow-2xl w-full max-w-md p-7 relative",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-green-700",children:"Edit Product"}),(0,b.jsx)("button",{className:"text-gray-600 hover:text-red-600",onClick:()=>y(null),children:(0,b.jsx)(m.X,{size:18})})]}),(0,b.jsxs)("div",{className:"relative aspect-square w-full rounded-lg overflow-hidden mb-4 border border-gray-200 group",children:[z&&(0,b.jsx)(p.default,{src:z,alt:x.name,fill:!0,className:"object-cover"}),(0,b.jsx)("label",{htmlFor:"imageUpload",className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 flex items-center justify-center cursor-pointer transition-opacity",children:(0,b.jsx)(l.Upload,{size:28,className:"text-green-500"})}),(0,b.jsx)("input",{type:"file",accept:"image/*",hidden:!0,id:"imageUpload",onChange:a=>{let b=a.target.files?.[0];b&&(C(b),A(URL.createObjectURL(b)))}})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("input",{type:"text",placeholder:"Enter Product Name",value:x.name,onChange:a=>y({...x,name:a.target.value}),className:"w-full border border-gray-300 rounded-lg p-2.5 focus:ring-2 focus:ring-green-500 outline-none"}),(0,b.jsxs)("select",{className:"w-full border border-gray-300 rounded-lg p-2.5 focus:ring-2 focus:ring-green-500 outline-none bg-white",value:x.category,onChange:a=>y({...x,category:a.target.value}),children:[(0,b.jsx)("option",{children:"Select Category"}),r.map((a,c)=>(0,b.jsx)("option",{value:a,children:a},c))]}),(0,b.jsx)("input",{type:"number",placeholder:"Price",value:x.price,onChange:a=>y({...x,price:a.target.value}),className:"w-full border border-gray-300 rounded-lg p-2.5 focus:ring-2 focus:ring-green-500 outline-none",min:"0",step:"1"}),(0,b.jsxs)("select",{className:"w-full border border-gray-300 rounded-lg p-2.5 focus:ring-2 focus:ring-green-500 outline-none bg-white",value:x.unit,onChange:a=>y({...x,unit:a.target.value}),children:[(0,b.jsx)("option",{children:"Select Category"}),s.map((a,c)=>(0,b.jsx)("option",{value:a,children:a},c))]}),(0,b.jsx)("textarea",{placeholder:"Scientific Knowledge (3-4 lines)",value:x.scientificBenefits,onChange:a=>y({...x,scientificBenefits:a.target.value}),className:"w-full border border-gray-300 rounded-lg p-2.5 focus:ring-2 focus:ring-green-500 outline-none resize-none",rows:4}),(0,b.jsxs)("div",{className:"p-4 bg-zinc-50 rounded-xl space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-sm font-bold text-zinc-600",children:"Verification Status"}),(0,b.jsx)("button",{onClick:()=>y({...x,isCompliant:!x.isCompliant}),className:`px-3 py-1 rounded-full text-[10px] font-black uppercase transition-all ${x.isCompliant?"bg-green-600 text-white":"bg-zinc-200 text-zinc-500"}`,children:x.isCompliant?"Verified":"Pending"})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("label",{className:"text-[10px] font-black text-zinc-400 uppercase tracking-widest",children:"FSSAI License"}),(0,b.jsx)("input",{value:x.fssaiLicense||"",onChange:a=>y({...x,fssaiLicense:a.target.value}),className:"w-full bg-white border border-zinc-200 rounded-lg p-2 text-sm font-bold",placeholder:"No license provided"})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("label",{className:"text-[10px] font-black text-zinc-400 uppercase tracking-widest",children:"Origin State"}),(0,b.jsx)("input",{value:x.originState||"Haryana",onChange:a=>y({...x,originState:a.target.value}),className:"w-full bg-white border border-zinc-200 rounded-lg p-2 text-sm font-bold"})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("label",{className:"text-[10px] font-black text-zinc-400 uppercase tracking-widest",children:"Origin City"}),(0,b.jsx)("input",{value:x.originCity||"",onChange:a=>y({...x,originCity:a.target.value}),className:"w-full bg-white border border-zinc-200 rounded-lg p-2 text-sm font-bold",placeholder:"Enter City"})]})]})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-3 mt-6",children:[(0,b.jsx)("button",{className:"px-4 py-2 rounded-lg bg-green-600 text-white flex items-center gap-2 hover:bg-green-700 transition-all",onClick:J,disabled:D,children:D?(0,b.jsx)(h.Loader,{size:14}):"Edit Product"}),(0,b.jsx)("button",{className:"px-4 py-2 rounded-lg  bg-red-600 text-white flex items-center gap-2 hover:bg-red-700  transition",onClick:K,disabled:F,children:F?(0,b.jsx)(h.Loader,{size:14}):"Delete Product"})]})]})})})]})}])}];

//# sourceMappingURL=_b378c1a4._.js.map