{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///D:/grocery%20delivery/1.snapcartFolder/1.snapcartFolder/1.snapcart/src/lib/socket.ts"],"sourcesContent":["import { io, Socket } from \"socket.io-client\"\r\n\r\nlet socket:Socket|null=null\r\n\r\nexport const getSocket=()=>{\r\nif(!socket){\r\n    socket=io(process.env.NEXT_PUBLIC_SOCKET_SERVER)\r\n}\r\nreturn socket\r\n}"],"names":[],"mappings":";;;;AAAA;;AAEA,IAAI,SAAmB;AAEhB,MAAM,YAAU;IACvB,IAAG,CAAC,QAAO;QACP,SAAO,IAAA,8LAAE;IACb;IACA,OAAO;AACP"}},
    {"offset": {"line": 63, "column": 0}, "map": {"version":3,"sources":["file:///D:/grocery%20delivery/1.snapcartFolder/1.snapcartFolder/1.snapcart/src/components/UserOrderCard.tsx"],"sourcesContent":["'use client'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { motion, AnimatePresence } from \"motion/react\"\r\nimport {\r\n    ChevronDown, ChevronUp, CreditCard, MapPin, Package,\r\n    Truck, UserCheck, Calendar, IndianRupee,\r\n    ShieldCheck, ArrowRight, Phone, Navigation2, Sparkles\r\n} from 'lucide-react'\r\nimport Image from 'next/image'\r\nimport { getSocket } from '@/lib/socket'\r\nimport { useRouter } from 'next/navigation'\r\n\r\ninterface IOrder {\r\n    _id?: string\r\n    user: string\r\n    items: [\r\n        {\r\n            grocery: string,\r\n            name: string,\r\n            price: string,\r\n            unit: string,\r\n            image: string\r\n            quantity: number\r\n        }\r\n    ]\r\n    isPaid: boolean\r\n    totalAmount: number,\r\n    paymentMethod: \"cod\" | \"online\"\r\n    address: {\r\n        fullName: string,\r\n        mobile: string,\r\n        city: string,\r\n        state: string,\r\n        pincode: string,\r\n        fullAddress: string,\r\n        latitude: number,\r\n        longitude: number\r\n    }\r\n    assignment?: string\r\n    assignedDeliveryBoy?: any\r\n    status: \"pending\" | \"out of delivery\" | \"delivered\",\r\n    createdAt?: Date\r\n    updatedAt?: Date\r\n    deliveryOtp?: string | null\r\n}\r\n\r\nfunction UserOrderCard({ order }: { order: IOrder }) {\r\n    const [expanded, setExpanded] = useState(false)\r\n    const [status, setStatus] = useState(order.status || \"pending\")\r\n    const router = useRouter()\r\n\r\n    const getStatusStyles = (status: string) => {\r\n        switch (status) {\r\n            case \"pending\":\r\n                return \"bg-amber-50 text-amber-600 border-amber-100\"\r\n            case \"out of delivery\":\r\n                return \"bg-blue-50 text-blue-600 border-blue-100\"\r\n            case \"delivered\":\r\n                return \"bg-green-50 text-green-600 border-green-100\"\r\n            default:\r\n                return \"bg-zinc-50 text-zinc-600 border-zinc-100\"\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        const socket = getSocket()\r\n        socket.on(\"order-status-update\", (data) => {\r\n            if (data.orderId.toString() === order?._id?.toString()) {\r\n                setStatus(data.status)\r\n            }\r\n        })\r\n        return () => { socket.off(\"order-status-update\") }\r\n    }, [order?._id])\r\n\r\n    return (\r\n        <motion.div\r\n            layout\r\n            className='bg-white rounded-[2.5rem] border border-zinc-100 shadow-2xl shadow-green-900/5 group overflow-hidden transition-all'\r\n        >\r\n            {/* Card Header */}\r\n            <div className='p-8 md:p-10 flex flex-col md:flex-row justify-between items-start md:items-center gap-6 border-b border-zinc-50'>\r\n                <div className='flex items-center gap-6'>\r\n                    <div className={`w-16 h-16 rounded-[1.5rem] flex items-center justify-center transition-colors ${status === \"delivered\" ? \"bg-green-600 text-white\" : \"bg-zinc-900 text-white\"}`}>\r\n                        <Package size={32} />\r\n                    </div>\r\n                    <div className=\"space-y-1\">\r\n                        <div className=\"flex items-center gap-2\">\r\n                            <h3 className='text-3xl font-black text-zinc-900 tracking-tighter'>Batch <span className='text-zinc-400'>#{order?._id?.toString()?.slice(-6)}</span></h3>\r\n                            {status === \"delivered\" && (\r\n                                <div className=\"bg-green-50 p-1 rounded-full text-green-600\">\r\n                                    <ShieldCheck size={20} />\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                        <div className=\"flex items-center gap-2 text-zinc-400 font-bold text-xs uppercase tracking-widest\">\r\n                            <Calendar size={12} />\r\n                            <span>{new Date(order.createdAt!).toLocaleDateString('en-IN', { day: 'numeric', month: 'short', year: 'numeric' })}</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className='flex flex-wrap items-center gap-3'>\r\n                    <div className={`px-4 py-2 rounded-2xl text-[10px] font-black uppercase tracking-widest border-2 ${getStatusStyles(status)}`}>\r\n                        {status}\r\n                    </div>\r\n                    {order.isPaid && (\r\n                        <div className=\"bg-green-600 text-white px-4 py-2 rounded-2xl text-[10px] font-black uppercase tracking-widest\">\r\n                            Paid\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n\r\n            <div className='p-8 md:p-10 grid grid-cols-1 lg:grid-cols-2 gap-10 items-start'>\r\n                {/* Logistics Section */}\r\n                <div className=\"space-y-8\">\r\n                    <div className=\"space-y-4\">\r\n                        <div className=\"text-[10px] font-black uppercase text-zinc-400 tracking-[0.2em] ml-1\">Fulfillment Details</div>\r\n                        <div className=\"grid grid-cols-1 gap-4\">\r\n                            <div className=\"flex items-start gap-4 p-5 bg-zinc-50 rounded-[1.5rem] border border-zinc-100\">\r\n                                <div className=\"w-10 h-10 bg-white rounded-xl flex items-center justify-center text-green-600 shadow-sm\">\r\n                                    <MapPin size={20} />\r\n                                </div>\r\n                                <div className=\"space-y-1\">\r\n                                    <div className=\"text-[10px] font-black text-zinc-400 uppercase tracking-widest\">Drop Location</div>\r\n                                    <p className=\"text-sm font-bold text-zinc-700 leading-snug\">{order.address.fullAddress}</p>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"flex items-start gap-4 p-5 bg-zinc-50 rounded-[1.5rem] border border-zinc-100\">\r\n                                <div className=\"w-10 h-10 bg-white rounded-xl flex items-center justify-center text-zinc-900 shadow-sm\">\r\n                                    {order.paymentMethod === 'online' ? <CreditCard size={20} /> : <IndianRupee size={20} />}\r\n                                </div>\r\n                                <div className=\"space-y-1\">\r\n                                    <div className=\"text-[10px] font-black text-zinc-400 uppercase tracking-widest\">Payment Method</div>\r\n                                    <p className=\"text-sm font-black text-zinc-900 uppercase tracking-wider\">{order.paymentMethod === 'online' ? 'Secured Online' : 'Cash on Delivery'}</p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {status !== 'delivered' && (\r\n                        <motion.div\r\n                            initial={{ opacity: 0, scale: 0.95 }}\r\n                            animate={{ opacity: 1, scale: 1 }}\r\n                            className=\"p-6 bg-zinc-900 rounded-[2rem] text-white shadow-2xl shadow-zinc-900/20 relative overflow-hidden group\"\r\n                        >\r\n                            <div className=\"absolute top-0 right-0 w-32 h-32 bg-green-500/10 rounded-full blur-2xl -mr-16 -mt-16\" />\r\n                            <div className=\"relative\">\r\n                                {order.assignedDeliveryBoy ? (\r\n                                    <>\r\n                                        <div className=\"flex items-center gap-4 mb-6\">\r\n                                            <div className=\"w-12 h-12 bg-white/10 rounded-2xl flex items-center justify-center text-green-400\">\r\n                                                <Navigation2 size={24} />\r\n                                            </div>\r\n                                            <div>\r\n                                                <div className=\"text-[10px] font-black uppercase text-zinc-500 tracking-widest leading-none\">On Route with</div>\r\n                                                <div className=\"text-xl font-black tracking-tight mt-1\">{order.assignedDeliveryBoy.name}</div>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        {order.deliveryOtp && (\r\n                                            <div className=\"p-4 bg-white/10 rounded-xl mb-6 border border-white/10 text-center\">\r\n                                                <div className=\"text-[10px] uppercase tracking-widest text-zinc-400 font-bold mb-1\">Your Delivery OTP</div>\r\n                                                <div className=\"text-4xl font-black text-green-400 tracking-[0.2em]\">{order.deliveryOtp}</div>\r\n                                                <div className=\"text-[10px] text-zinc-500 mt-1\">Share this code with the partner upon arrival.</div>\r\n                                            </div>\r\n                                        )}\r\n\r\n                                        <div className=\"flex items-center gap-4\">\r\n                                            <a\r\n                                                href={`tel:${order.assignedDeliveryBoy.mobile}`}\r\n                                                className=\"flex-1 bg-white text-zinc-900 py-4 rounded-xl font-black uppercase tracking-widest text-[10px] flex items-center justify-center gap-2 hover:bg-green-600 hover:text-white transition-all\"\r\n                                            >\r\n                                                <Phone size={14} />\r\n                                                Call Partner\r\n                                            </a>\r\n                                            <button\r\n                                                onClick={() => router.push(`/user/track-order/${order._id}`)}\r\n                                                className=\"flex-1 bg-green-600 text-white py-4 rounded-xl font-black uppercase tracking-widest text-[10px] flex items-center justify-center gap-2 hover:bg-green-500 shadow-xl shadow-green-600/20 transition-all\"\r\n                                            >\r\n                                                <Truck size={14} />\r\n                                                Live Track\r\n                                            </button>\r\n                                        </div>\r\n                                    </>\r\n                                ) : (\r\n                                    <div className=\"flex flex-col items-center justify-center py-6 text-center space-y-4\">\r\n                                        <div className=\"w-16 h-16 border-4 border-green-500/30 border-t-green-500 rounded-full animate-spin\" />\r\n                                        <div>\r\n                                            <h4 className=\"font-bold text-lg mb-1\">Assigning Partner</h4>\r\n                                            <p className=\"text-zinc-500 text-xs max-w-[200px] mx-auto\">We're finding the best delivery partner for your batch...</p>\r\n                                        </div>\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                        </motion.div>\r\n                    )}\r\n                </div>\r\n\r\n                {/* Items Section */}\r\n                <div className=\"space-y-6\">\r\n                    <div className=\"flex items-center justify-between px-1\">\r\n                        <div className=\"text-[10px] font-black uppercase text-zinc-400 tracking-[0.2em]\">Batch Contents</div>\r\n                        <div className=\"text-sm font-black text-zinc-900 tracking-tighter\">Total: ₹{order.totalAmount}</div>\r\n                    </div>\r\n\r\n                    <div className=\"space-y-4\">\r\n                        {Array.isArray(order?.items) && order.items.slice(0, expanded ? order.items.length : 2).map((item, index) => (\r\n                            <div key={index} className=\"flex items-center justify-between p-4 bg-white border border-zinc-100 rounded-2xl shadow-sm hover:border-green-200 transition-colors\">\r\n                                <div className=\"flex items-center gap-4\">\r\n                                    <div className=\"w-16 h-16 bg-zinc-50 rounded-xl relative overflow-hidden border border-zinc-100\">\r\n                                        <Image src={item.image} alt={item.name} fill className=\"object-contain p-2\" />\r\n                                    </div>\r\n                                    <div>\r\n                                        <h4 className=\"font-black text-zinc-900 text-sm leading-tight\">{item.name}</h4>\r\n                                        <p className=\"text-[10px] font-bold text-zinc-400 uppercase tracking-widest\">{item.quantity} x {item.unit}</p>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"text-right\">\r\n                                    <div className=\"text-sm font-black text-zinc-900 tracking-tight\">₹{Number(item.price) * item.quantity}</div>\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n\r\n                        {order.items.length > 2 && (\r\n                            <button\r\n                                onClick={() => setExpanded(!expanded)}\r\n                                className=\"w-full py-4 text-xs font-black uppercase tracking-widest text-zinc-400 hover:text-green-600 transition-colors flex items-center justify-center gap-2 bg-zinc-50/50 rounded-2xl\"\r\n                            >\r\n                                {expanded ? <ChevronUp size={16} /> : <ChevronDown size={16} />}\r\n                                {expanded ? 'Show Less' : `Show ${order.items.length - 2} More Items`}\r\n                            </button>\r\n                        )}\r\n                    </div>\r\n\r\n                    {status === 'delivered' && (\r\n                        <div className=\"p-6 bg-green-50 border border-green-100 rounded-[2rem] flex items-center gap-6\">\r\n                            <div className=\"w-12 h-12 bg-white rounded-2xl flex items-center justify-center text-green-600 shadow-sm border border-green-100\">\r\n                                <Sparkles size={24} />\r\n                            </div>\r\n                            <div>\r\n                                <h4 className=\"font-black text-green-700 tracking-tight\">Order Fulfilled</h4>\r\n                                <p className=\"text-xs text-green-600/70 font-medium\">Thank you for supporting sustainable agriculture.</p>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </motion.div>\r\n    )\r\n}\r\n\r\nexport default UserOrderCard\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 818, "column": 0}, "map": {"version":3,"sources":["file:///D:/grocery%20delivery/1.snapcartFolder/1.snapcartFolder/1.snapcart/src/app/user/my-orders/page.tsx"],"sourcesContent":["'use client'\r\nimport axios from 'axios'\r\nimport { ArrowLeft, Package, PackageSearch, Sparkles, TrendingUp, History } from 'lucide-react'\r\nimport { useRouter } from 'next/navigation'\r\nimport { motion, AnimatePresence } from \"motion/react\"\r\nimport React, { useEffect, useState } from 'react'\r\nimport UserOrderCard from '@/components/UserOrderCard'\r\nimport { getSocket } from '@/lib/socket'\r\nimport Nav from '@/components/Nav'\r\nimport Footer from '@/components/Footer'\r\n\r\ninterface IOrder {\r\n  _id?: string\r\n  user: string\r\n  items: [\r\n    {\r\n      grocery: string,\r\n      name: string,\r\n      price: string,\r\n      unit: string,\r\n      image: string\r\n      quantity: number\r\n    }\r\n  ]\r\n  isPaid: boolean\r\n  totalAmount: number,\r\n  paymentMethod: \"cod\" | \"online\"\r\n  address: {\r\n    fullName: string,\r\n    mobile: string,\r\n    city: string,\r\n    state: string,\r\n    pincode: string,\r\n    fullAddress: string,\r\n    latitude: number,\r\n    longitude: number\r\n  }\r\n  assignment?: string\r\n  assignedDeliveryBoy?: any\r\n  status: \"pending\" | \"out of delivery\" | \"delivered\",\r\n  createdAt?: Date\r\n  updatedAt?: Date\r\n}\r\n\r\nfunction MyOrder() {\r\n  const router = useRouter()\r\n  const [orders, setOrders] = useState<IOrder[]>()\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  useEffect(() => {\r\n    const getMyOrders = async () => {\r\n      try {\r\n        const result = await axios.get(\"/api/user/my-orders\")\r\n        setOrders(result.data)\r\n      } catch (error) {\r\n        console.error(error)\r\n      } finally {\r\n        setLoading(false)\r\n      }\r\n    }\r\n    getMyOrders()\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    const socket = getSocket()\r\n    socket.on(\"order-assigned\", ({ orderId, assignedDeliveryBoy }) => {\r\n      setOrders((prev) => prev?.map((o) => (\r\n        o._id === orderId ? { ...o, assignedDeliveryBoy } : o\r\n      )))\r\n    })\r\n    return () => { socket.off(\"order-assigned\") }\r\n  }, [])\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-zinc-50 flex items-center justify-center\">\r\n        <div className=\"w-12 h-12 border-4 border-green-600 border-t-transparent rounded-full animate-spin\" />\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className='min-h-screen bg-zinc-50 selection:bg-green-100 selection:text-green-900'>\r\n      <div className='max-w-4xl mx-auto px-6 py-32'>\r\n\r\n        <div className=\"flex flex-col md:flex-row md:items-end justify-between mb-16 gap-8\">\r\n          <div className=\"space-y-4\">\r\n            <motion.div\r\n              initial={{ opacity: 0, x: -20 }}\r\n              animate={{ opacity: 1, x: 0 }}\r\n              className=\"flex items-center gap-2 text-green-600 font-black uppercase tracking-[0.3em] text-[10px] bg-green-50 w-fit px-3 py-1 rounded-lg border border-green-100\"\r\n            >\r\n              <History size={14} />\r\n              <span>Procurement History</span>\r\n            </motion.div>\r\n            <motion.h1\r\n              initial={{ opacity: 0, y: 10 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              className='text-5xl md:text-6xl font-black text-zinc-900 tracking-tighter leading-none'\r\n            >\r\n              My <span className=\"text-zinc-400\">Orders.</span>\r\n            </motion.h1>\r\n            <p className=\"text-zinc-500 max-w-lg font-medium text-lg\">Track your millet batches from the farm to your doorstep in real-time.</p>\r\n          </div>\r\n\r\n          <motion.button\r\n            whileHover={{ scale: 1.05 }}\r\n            whileTap={{ scale: 0.95 }}\r\n            onClick={() => router.push('/')}\r\n            className=\"bg-white p-4 rounded-3xl shadow-xl shadow-green-900/5 border border-zinc-100 flex items-center gap-4 group transition-all hover:border-green-200\"\r\n          >\r\n            <div className=\"w-12 h-12 bg-green-50 rounded-2xl flex items-center justify-center text-green-600 group-hover:bg-green-600 group-hover:text-white transition-colors\">\r\n              <ArrowLeft size={20} />\r\n            </div>\r\n            <div className=\"text-left pr-4\">\r\n              <div className=\"text-[10px] font-black uppercase text-zinc-400\">Continue</div>\r\n              <div className=\"text-sm font-black text-zinc-900\">Shopping</div>\r\n            </div>\r\n          </motion.button>\r\n        </div>\r\n\r\n        {orders?.length === 0 ? (\r\n          <motion.div\r\n            initial={{ opacity: 0, scale: 0.95 }}\r\n            animate={{ opacity: 1, scale: 1 }}\r\n            className='py-32 flex flex-col items-center text-center bg-white rounded-[3.5rem] border-2 border-dashed border-zinc-200'\r\n          >\r\n            <div className=\"w-24 h-24 bg-zinc-50 rounded-full flex items-center justify-center mb-8 shadow-inner\">\r\n              <PackageSearch size={48} className=\"text-zinc-200\" />\r\n            </div>\r\n            <h2 className='text-3xl font-black text-zinc-800 mb-2 tracking-tight'>No Batches Found</h2>\r\n            <p className='text-zinc-400 font-medium max-w-xs mx-auto'>You haven't secured any millet harvests yet. Explore the marketplace to start your journey.</p>\r\n            <button\r\n              onClick={() => router.push('/')}\r\n              className=\"mt-10 bg-zinc-900 text-white px-10 py-5 rounded-[1.5rem] font-black uppercase tracking-widest text-sm shadow-2xl shadow-zinc-900/20 hover:bg-green-600 transition-all\"\r\n            >\r\n              Start Exploring\r\n            </button>\r\n          </motion.div>\r\n        ) : (\r\n          <div className='space-y-8'>\r\n            <AnimatePresence>\r\n              {orders?.map((order, index) => (\r\n                <motion.div\r\n                  key={order._id}\r\n                  initial={{ opacity: 0, y: 30 }}\r\n                  animate={{ opacity: 1, y: 0 }}\r\n                  transition={{ delay: index * 0.1 }}\r\n                >\r\n                  <UserOrderCard order={order} />\r\n                </motion.div>\r\n              ))}\r\n            </AnimatePresence>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MyOrder\r\n\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAPA;;;;;;;;;AA4CA,SAAS;IACP,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ;IACpC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACR,MAAM,cAAc;YAClB,IAAI;gBACF,MAAM,SAAS,MAAM,gJAAK,CAAC,GAAG,CAAC;gBAC/B,UAAU,OAAO,IAAI;YACvB,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC;YAChB,SAAU;gBACR,WAAW;YACb;QACF;QACA;IACF,GAAG,EAAE;IAEL,IAAA,kNAAS,EAAC;QACR,MAAM,SAAS,IAAA,iIAAS;QACxB,OAAO,EAAE,CAAC,kBAAkB,CAAC,EAAE,OAAO,EAAE,mBAAmB,EAAE;YAC3D,UAAU,CAAC,OAAS,MAAM,IAAI,CAAC,IAC7B,EAAE,GAAG,KAAK,UAAU;wBAAE,GAAG,CAAC;wBAAE;oBAAoB,IAAI;QAExD;QACA,OAAO;YAAQ,OAAO,GAAG,CAAC;QAAkB;IAC9C,GAAG,EAAE;IAEL,IAAI,SAAS;QACX,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;;;;;;;;;;IAGrB;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BAEb,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,oMAAM,CAAC,GAAG;oCACT,SAAS;wCAAE,SAAS;wCAAG,GAAG,CAAC;oCAAG;oCAC9B,SAAS;wCAAE,SAAS;wCAAG,GAAG;oCAAE;oCAC5B,WAAU;;sDAEV,8OAAC,mNAAO;4CAAC,MAAM;;;;;;sDACf,8OAAC;sDAAK;;;;;;;;;;;;8CAER,8OAAC,oMAAM,CAAC,EAAE;oCACR,SAAS;wCAAE,SAAS;wCAAG,GAAG;oCAAG;oCAC7B,SAAS;wCAAE,SAAS;wCAAG,GAAG;oCAAE;oCAC5B,WAAU;;wCACX;sDACI,8OAAC;4CAAK,WAAU;sDAAgB;;;;;;;;;;;;8CAErC,8OAAC;oCAAE,WAAU;8CAA6C;;;;;;;;;;;;sCAG5D,8OAAC,oMAAM,CAAC,MAAM;4BACZ,YAAY;gCAAE,OAAO;4BAAK;4BAC1B,UAAU;gCAAE,OAAO;4BAAK;4BACxB,SAAS,IAAM,OAAO,IAAI,CAAC;4BAC3B,WAAU;;8CAEV,8OAAC;oCAAI,WAAU;8CACb,cAAA,8OAAC,6NAAS;wCAAC,MAAM;;;;;;;;;;;8CAEnB,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAI,WAAU;sDAAiD;;;;;;sDAChE,8OAAC;4CAAI,WAAU;sDAAmC;;;;;;;;;;;;;;;;;;;;;;;;gBAKvD,QAAQ,WAAW,kBAClB,8OAAC,oMAAM,CAAC,GAAG;oBACT,SAAS;wBAAE,SAAS;wBAAG,OAAO;oBAAK;oBACnC,SAAS;wBAAE,SAAS;wBAAG,OAAO;oBAAE;oBAChC,WAAU;;sCAEV,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC,yOAAa;gCAAC,MAAM;gCAAI,WAAU;;;;;;;;;;;sCAErC,8OAAC;4BAAG,WAAU;sCAAwD;;;;;;sCACtE,8OAAC;4BAAE,WAAU;sCAA6C;;;;;;sCAC1D,8OAAC;4BACC,SAAS,IAAM,OAAO,IAAI,CAAC;4BAC3B,WAAU;sCACX;;;;;;;;;;;yCAKH,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC,4MAAe;kCACb,QAAQ,IAAI,CAAC,OAAO,sBACnB,8OAAC,oMAAM,CAAC,GAAG;gCAET,SAAS;oCAAE,SAAS;oCAAG,GAAG;gCAAG;gCAC7B,SAAS;oCAAE,SAAS;oCAAG,GAAG;gCAAE;gCAC5B,YAAY;oCAAE,OAAO,QAAQ;gCAAI;0CAEjC,cAAA,8OAAC,8IAAa;oCAAC,OAAO;;;;;;+BALjB,MAAM,GAAG;;;;;;;;;;;;;;;;;;;;;;;;;;AAchC;uCAEe"}}]
}