{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///D:/grocery%20delivery/1.snapcartFolder/1.snapcartFolder/1.snapcart/src/lib/db.ts"],"sourcesContent":["import mongoose from \"mongoose\";\r\n\r\nconst mongodbUrl=process.env.MONGODB_URL\r\n\r\nif(!mongodbUrl){\r\n throw new Error(\"db error\")\r\n}\r\n\r\n\r\n\r\nlet cached=global.mongoose\r\nif(!cached){\r\n    cached=global.mongoose={conn:null,promise:null}\r\n}\r\n\r\nconst connectDb=async ()=>{\r\n    if(cached.conn){\r\n       \r\n        return cached.conn\r\n    }\r\n\r\n    if(!cached.promise){\r\n      \r\n        cached.promise=mongoose.connect(mongodbUrl).then((conn)=>conn.connection)\r\n    }\r\n    try {\r\n        const conn=await cached.promise\r\n        return conn\r\n    } catch (error) {\r\n        console.log(error)\r\n    }\r\n\r\n}\r\n\r\nexport default connectDb"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,aAAW,QAAQ,GAAG,CAAC,WAAW;AAExC,IAAG,CAAC,YAAW;IACd,MAAM,IAAI,MAAM;AACjB;AAIA,IAAI,SAAO,yDAAO,QAAQ;AAC1B,IAAG,CAAC,QAAO;IACP,SAAO,yDAAO,QAAQ,GAAC;QAAC,MAAK;QAAK,SAAQ;IAAI;AAClD;AAEA,MAAM,YAAU;IACZ,IAAG,OAAO,IAAI,EAAC;QAEX,OAAO,OAAO,IAAI;IACtB;IAEA,IAAG,CAAC,OAAO,OAAO,EAAC;QAEf,OAAO,OAAO,GAAC,oHAAQ,CAAC,OAAO,CAAC,YAAY,IAAI,CAAC,CAAC,OAAO,KAAK,UAAU;IAC5E;IACA,IAAI;QACA,MAAM,OAAK,MAAM,OAAO,OAAO;QAC/B,OAAO;IACX,EAAE,OAAO,OAAO;QACZ,QAAQ,GAAG,CAAC;IAChB;AAEJ;uCAEe"}},
    {"offset": {"line": 82, "column": 0}, "map": {"version":3,"sources":["file:///D:/grocery%20delivery/1.snapcartFolder/1.snapcartFolder/1.snapcart/src/models/order.model.ts"],"sourcesContent":["import mongoose from \"mongoose\";\r\n\r\n\r\n\r\nexport interface IOrder {\r\n    _id?: mongoose.Types.ObjectId\r\n    user: mongoose.Types.ObjectId\r\n    items: [\r\n        {\r\n            product: mongoose.Types.ObjectId,\r\n            name: string,\r\n            price: string,\r\n            unit: string,\r\n            image: string\r\n            quantity: number\r\n        }\r\n    ]\r\n    ,\r\n    isPaid: boolean\r\n    totalAmount: number,\r\n    paymentMethod: \"cod\" | \"online\"\r\n    address: {\r\n        fullName: string,\r\n        mobile: string,\r\n        city: string,\r\n        state: string,\r\n        pincode: string,\r\n        fullAddress: string,\r\n        latitude: number,\r\n        longitude: number\r\n    }\r\n    assignment?: mongoose.Types.ObjectId\r\n    assignedDeliveryBoy?: mongoose.Types.ObjectId\r\n    status: \"pending\" | \"out of delivery\" | \"delivered\",\r\n    createdAt?: Date\r\n    updatedAt?: Date\r\n    deliveryOtp: string | null\r\n    deliveryOtpVerification: Boolean\r\n    deliveredAt: Date\r\n}\r\n\r\nconst orderSchema = new mongoose.Schema<IOrder>({\r\n    user: {\r\n        type: mongoose.Schema.Types.ObjectId,\r\n        ref: \"User\",\r\n        required: true\r\n    },\r\n    items: [\r\n        {\r\n            product: {\r\n                type: mongoose.Schema.Types.ObjectId,\r\n                ref: \"Product\",\r\n                required: true\r\n            },\r\n            name: String,\r\n            price: String,\r\n            unit: String,\r\n            image: String,\r\n            quantity: Number\r\n        }\r\n    ],\r\n    paymentMethod: {\r\n        type: String,\r\n        enum: [\"cod\", \"online\"],\r\n        default: \"cod\"\r\n    },\r\n    isPaid: {\r\n        type: Boolean,\r\n        default: false\r\n    },\r\n    totalAmount: Number,\r\n    address: {\r\n        fullName: String,\r\n        mobile: String,\r\n        city: String,\r\n        state: String,\r\n        pincode: String,\r\n        fullAddress: String,\r\n        latitude: Number,\r\n        longitude: Number\r\n    },\r\n    assignment: {\r\n        type: mongoose.Schema.Types.ObjectId,\r\n        ref: \"DeliveryAssignment\",\r\n        default: null\r\n    },\r\n\r\n    assignedDeliveryBoy: {\r\n        type: mongoose.Schema.Types.ObjectId,\r\n        ref: \"User\"\r\n    },\r\n    status: {\r\n        type: String,\r\n        enum: [\"pending\", \"out of delivery\", \"delivered\"],\r\n        default: \"pending\"\r\n    },\r\n    deliveryOtp: {\r\n        type: String,\r\n        default: null\r\n    },\r\n    deliveryOtpVerification: {\r\n        type: Boolean,\r\n        default: false\r\n    },\r\n    deliveredAt: {\r\n        type: Date\r\n    }\r\n}, { timestamps: true })\r\n\r\n\r\nconst Order = mongoose.models.Order || mongoose.model(\"Order\", orderSchema)\r\nexport default Order"],"names":[],"mappings":";;;;AAAA;;AAyCA,MAAM,cAAc,IAAI,oHAAQ,CAAC,MAAM,CAAS;IAC5C,MAAM;QACF,MAAM,oHAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ;QACpC,KAAK;QACL,UAAU;IACd;IACA,OAAO;QACH;YACI,SAAS;gBACL,MAAM,oHAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ;gBACpC,KAAK;gBACL,UAAU;YACd;YACA,MAAM;YACN,OAAO;YACP,MAAM;YACN,OAAO;YACP,UAAU;QACd;KACH;IACD,eAAe;QACX,MAAM;QACN,MAAM;YAAC;YAAO;SAAS;QACvB,SAAS;IACb;IACA,QAAQ;QACJ,MAAM;QACN,SAAS;IACb;IACA,aAAa;IACb,SAAS;QACL,UAAU;QACV,QAAQ;QACR,MAAM;QACN,OAAO;QACP,SAAS;QACT,aAAa;QACb,UAAU;QACV,WAAW;IACf;IACA,YAAY;QACR,MAAM,oHAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ;QACpC,KAAK;QACL,SAAS;IACb;IAEA,qBAAqB;QACjB,MAAM,oHAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ;QACpC,KAAK;IACT;IACA,QAAQ;QACJ,MAAM;QACN,MAAM;YAAC;YAAW;YAAmB;SAAY;QACjD,SAAS;IACb;IACA,aAAa;QACT,MAAM;QACN,SAAS;IACb;IACA,yBAAyB;QACrB,MAAM;QACN,SAAS;IACb;IACA,aAAa;QACT,MAAM;IACV;AACJ,GAAG;IAAE,YAAY;AAAK;AAGtB,MAAM,QAAQ,oHAAQ,CAAC,MAAM,CAAC,KAAK,IAAI,oHAAQ,CAAC,KAAK,CAAC,SAAS;uCAChD"}},
    {"offset": {"line": 175, "column": 0}, "map": {"version":3,"sources":["file:///D:/grocery%20delivery/1.snapcartFolder/1.snapcartFolder/1.snapcart/src/app/api/admin/get-orders/route.ts"],"sourcesContent":["import connectDb from \"@/lib/db\";\r\nimport Order from \"@/models/order.model\";\r\nimport { NextRequest, NextResponse } from \"next/server\";\r\n\r\nexport async function GET(req:NextRequest) {\r\n    try {\r\n        await connectDb()\r\n        const orders=await Order.find({}).populate(\"user assignedDeliveryBoy\").sort({createdAt:-1})\r\n        return NextResponse.json(\r\n            orders,{status:200}\r\n        )\r\n    } catch (error) {\r\n         return NextResponse.json(\r\n            {message:`get orders error: ${error}`},{status:500}\r\n        )\r\n    }\r\n}"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;AAEO,eAAe,IAAI,GAAe;IACrC,IAAI;QACA,MAAM,IAAA,6HAAS;QACf,MAAM,SAAO,MAAM,4IAAK,CAAC,IAAI,CAAC,CAAC,GAAG,QAAQ,CAAC,4BAA4B,IAAI,CAAC;YAAC,WAAU,CAAC;QAAC;QACzF,OAAO,gJAAY,CAAC,IAAI,CACpB,QAAO;YAAC,QAAO;QAAG;IAE1B,EAAE,OAAO,OAAO;QACX,OAAO,gJAAY,CAAC,IAAI,CACrB;YAAC,SAAQ,CAAC,kBAAkB,EAAE,OAAO;QAAA,GAAE;YAAC,QAAO;QAAG;IAE1D;AACJ"}}]
}