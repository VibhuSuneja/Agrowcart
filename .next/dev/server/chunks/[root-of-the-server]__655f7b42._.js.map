{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///D:/Agrowcart/AgrowCart/Agrowcart/Agrowcart/src/lib/db.ts"],"sourcesContent":["import mongoose from \"mongoose\";\r\n\r\nconst mongodbUrl=process.env.MONGODB_URL\r\n\r\nif(!mongodbUrl){\r\n throw new Error(\"db error\")\r\n}\r\n\r\n\r\n\r\nlet cached=global.mongoose\r\nif(!cached){\r\n    cached=global.mongoose={conn:null,promise:null}\r\n}\r\n\r\nconst connectDb=async ()=>{\r\n    if(cached.conn){\r\n       \r\n        return cached.conn\r\n    }\r\n\r\n    if(!cached.promise){\r\n      \r\n        cached.promise=mongoose.connect(mongodbUrl).then((conn)=>conn.connection)\r\n    }\r\n    try {\r\n        const conn=await cached.promise\r\n        return conn\r\n    } catch (error) {\r\n        console.log(error)\r\n    }\r\n\r\n}\r\n\r\nexport default connectDb"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,aAAW,QAAQ,GAAG,CAAC,WAAW;AAExC,IAAG,CAAC,YAAW;IACd,MAAM,IAAI,MAAM;AACjB;AAIA,IAAI,SAAO,yDAAO,QAAQ;AAC1B,IAAG,CAAC,QAAO;IACP,SAAO,yDAAO,QAAQ,GAAC;QAAC,MAAK;QAAK,SAAQ;IAAI;AAClD;AAEA,MAAM,YAAU;IACZ,IAAG,OAAO,IAAI,EAAC;QAEX,OAAO,OAAO,IAAI;IACtB;IAEA,IAAG,CAAC,OAAO,OAAO,EAAC;QAEf,OAAO,OAAO,GAAC,oHAAQ,CAAC,OAAO,CAAC,YAAY,IAAI,CAAC,CAAC,OAAO,KAAK,UAAU;IAC5E;IACA,IAAI;QACA,MAAM,OAAK,MAAM,OAAO,OAAO;QAC/B,OAAO;IACX,EAAE,OAAO,OAAO;QACZ,QAAQ,GAAG,CAAC;IAChB;AAEJ;uCAEe"}},
    {"offset": {"line": 82, "column": 0}, "map": {"version":3,"sources":["file:///D:/Agrowcart/AgrowCart/Agrowcart/Agrowcart/src/models/review.model.ts"],"sourcesContent":["import mongoose from \"mongoose\";\r\n\r\nconst reviewSchema = new mongoose.Schema({\r\n    userId: {\r\n        type: mongoose.Schema.Types.ObjectId,\r\n        ref: \"User\",\r\n        required: false // Optional, in case we allow anonymous or just captured names\r\n    },\r\n    name: {\r\n        type: String,\r\n        required: true\r\n    },\r\n    role: {\r\n        type: String,\r\n        default: \"Community Member\"\r\n    },\r\n    rating: {\r\n        type: Number,\r\n        required: true,\r\n        min: 1,\r\n        max: 5\r\n    },\r\n    content: {\r\n        type: String,\r\n        required: true\r\n    },\r\n    location: {\r\n        type: String,\r\n        default: \"India\"\r\n    },\r\n    email: {\r\n        type: String,\r\n        required: false\r\n    }\r\n}, { timestamps: true })\r\n\r\nconst Review = mongoose.models.Review || mongoose.model(\"Review\", reviewSchema)\r\n\r\nexport default Review\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,eAAe,IAAI,oHAAQ,CAAC,MAAM,CAAC;IACrC,QAAQ;QACJ,MAAM,oHAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ;QACpC,KAAK;QACL,UAAU,MAAM,8DAA8D;IAClF;IACA,MAAM;QACF,MAAM;QACN,UAAU;IACd;IACA,MAAM;QACF,MAAM;QACN,SAAS;IACb;IACA,QAAQ;QACJ,MAAM;QACN,UAAU;QACV,KAAK;QACL,KAAK;IACT;IACA,SAAS;QACL,MAAM;QACN,UAAU;IACd;IACA,UAAU;QACN,MAAM;QACN,SAAS;IACb;IACA,OAAO;QACH,MAAM;QACN,UAAU;IACd;AACJ,GAAG;IAAE,YAAY;AAAK;AAEtB,MAAM,SAAS,oHAAQ,CAAC,MAAM,CAAC,MAAM,IAAI,oHAAQ,CAAC,KAAK,CAAC,UAAU;uCAEnD"}},
    {"offset": {"line": 135, "column": 0}, "map": {"version":3,"sources":["file:///D:/Agrowcart/AgrowCart/Agrowcart/Agrowcart/src/app/api/reviews/get/route.ts"],"sourcesContent":["import connectDb from \"@/lib/db\";\r\nimport Review from \"@/models/review.model\";\r\nimport { NextResponse } from \"next/server\";\r\n\r\nexport async function GET() {\r\n    try {\r\n        await connectDb()\r\n        // Get latest 20 reviews\r\n        const reviews = await Review.find({}).sort({ createdAt: -1 }).limit(20)\r\n\r\n        return NextResponse.json(\r\n            reviews,\r\n            { status: 200 }\r\n        )\r\n    } catch (error: any) {\r\n        return NextResponse.json(\r\n            { message: `Failed to fetch reviews: ${error.message}` },\r\n            { status: 500 }\r\n        )\r\n    }\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;AAEO,eAAe;IAClB,IAAI;QACA,MAAM,IAAA,6HAAS;QACf,wBAAwB;QACxB,MAAM,UAAU,MAAM,6IAAM,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC;YAAE,WAAW,CAAC;QAAE,GAAG,KAAK,CAAC;QAEpE,OAAO,gJAAY,CAAC,IAAI,CACpB,SACA;YAAE,QAAQ;QAAI;IAEtB,EAAE,OAAO,OAAY;QACjB,OAAO,gJAAY,CAAC,IAAI,CACpB;YAAE,SAAS,CAAC,yBAAyB,EAAE,MAAM,OAAO,EAAE;QAAC,GACvD;YAAE,QAAQ;QAAI;IAEtB;AACJ"}}]
}